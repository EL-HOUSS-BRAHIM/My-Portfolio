class PortfolioApp{constructor(){this.config={apiBaseUrl:"./src/api",animationDelay:100,testimonialAutoSlideInterval:8e3,debounceDelay:250,throttleDelay:16},this.modules=new Map,this.isInitialized=!1,this.init()}async init(){try{document.addEventListener("DOMContentLoaded",()=>this.onDOMContentLoaded()),console.debug("[PortfolioApp] Application initialized")}catch(e){console.error("[PortfolioApp] Initialization failed:",e)}}async onDOMContentLoaded(){try{await this.initModules(),this.setupGlobalEventListeners(),this.isInitialized=!0,document.dispatchEvent(new CustomEvent("appready",{detail:{initialized:!0,moduleCount:this.modules.size}})),console.debug("[PortfolioApp] DOM loaded - All modules initialized")}catch(e){console.error("[PortfolioApp] DOM initialization failed:",e)}}async initModules(){const e=[this.initModule("navigation",()=>new NavigationController),this.initModule("theme",()=>new ThemeController),this.initModule("hero",()=>new HeroController),this.initModule("animations",()=>new AnimationController),this.initModule("projects",()=>new ProjectController),this.initModule("contact",()=>new ContactController(this.config.apiBaseUrl)),this.initModule("testimonials",()=>new TestimonialController(this.config.apiBaseUrl,this.config.testimonialAutoSlideInterval)),this.initModule("mobile",()=>new MobileController)];await Promise.allSettled(e)}async initModule(e,o){try{const i=o();this.modules.set(e,i),console.debug(`[PortfolioApp] Module '${e}' initialized`)}catch(o){console.error(`[PortfolioApp] Failed to initialize module '${e}':`,o)}}setupGlobalEventListeners(){window.addEventListener("error",this.handleGlobalError.bind(this)),window.addEventListener("unhandledrejection",this.handleUnhandledRejection.bind(this)),window.addEventListener("resize",this.debounce(this.handleResize.bind(this),this.config.debounceDelay)),window.addEventListener("scroll",this.throttle(this.handleScroll.bind(this),this.config.throttleDelay)),document.addEventListener("visibilitychange",this.handleVisibilityChange.bind(this)),window.addEventListener("load",this.handleWindowLoad.bind(this))}handleGlobalError(e){console.error("[PortfolioApp] Global error:",e.error)}handleUnhandledRejection(e){console.error("[PortfolioApp] Unhandled promise rejection:",e.reason),e.preventDefault()}handleResize(){this.modules.forEach((e,o)=>{if("function"==typeof e.handleResize)try{e.handleResize()}catch(e){console.error(`[PortfolioApp] Resize handler failed for ${o}:`,e)}})}handleScroll(){this.modules.forEach((e,o)=>{if("function"==typeof e.handleScroll)try{e.handleScroll()}catch(e){console.error(`[PortfolioApp] Scroll handler failed for ${o}:`,e)}})}handleVisibilityChange(){const e=!document.hidden;this.modules.forEach((o,i)=>{if("function"==typeof o.handleVisibilityChange)try{o.handleVisibilityChange(e)}catch(e){console.error(`[PortfolioApp] Visibility handler failed for ${i}:`,e)}})}handleWindowLoad(){const e=document.querySelector(".loading-screen");e&&(e.style.opacity="0",setTimeout(()=>e.remove(),500)),document.body.classList.add("loaded"),document.dispatchEvent(new CustomEvent("windowloaded")),console.debug("[PortfolioApp] Window loaded - Loading screen removed")}debounce(e,o){let i;return function(...t){clearTimeout(i),i=setTimeout(()=>{clearTimeout(i),e(...t)},o)}}throttle(e,o){let i;return function(...t){i||(e.apply(this,t),i=!0,setTimeout(()=>i=!1,o))}}getModule(e){return this.modules.get(e)}isReady(){return this.isInitialized}getConfig(){return{...this.config}}updateConfig(e){this.config={...this.config,...e}}getLoadedModules(){return Array.from(this.modules.keys())}destroy(){this.modules.forEach((e,o)=>{if("function"==typeof e.destroy)try{e.destroy()}catch(e){console.error(`[PortfolioApp] Failed to destroy module ${o}:`,e)}}),this.modules.clear(),this.isInitialized=!1,console.debug("[PortfolioApp] Application destroyed")}}window.portfolioApp=new PortfolioApp;