class HeroController{constructor(){this.hero=document.querySelector(".hero"),this.roleElement=document.querySelector(".hero__role"),this.statsElements=document.querySelectorAll(".stat__number"),this.techItems=document.querySelectorAll(".tech-item"),this.scrollIndicator=document.querySelector(".scroll-indicator"),this.isTyping=!1,this.typewriterTimeout=null,this.particleCanvas=null,this.particles=[],this.init()}init(){this.setupTypewriterEffect(),this.setupStatsCounter(),this.setupTechStackHover(),this.setupScrollIndicator(),this.setupParticleBackground(),this.setupImageEffects(),this.setupHeroInteractions(),console.debug("[HeroController] Initialized")}setupTypewriterEffect(){if(!this.roleElement)return;const t=["Full Stack Software Engineer","Frontend Developer","Backend Developer","Problem Solver","Tech Enthusiast"];let e=0,s=0,i=!1;const o=()=>{const r=t[e];if(i?(this.roleElement.textContent=r.substring(0,s-1),s--):(this.roleElement.textContent=r.substring(0,s+1),s++),this.roleElement.style.borderRight="2px solid var(--hero-accent)",!i&&s===r.length)return void(this.typewriterTimeout=setTimeout(()=>{i=!0,this.typewriterTimeout=setTimeout(o,50)},2e3));if(i&&0===s)return i=!1,e=(e+1)%t.length,void(this.typewriterTimeout=setTimeout(o,100));const n=i?50:100;this.typewriterTimeout=setTimeout(o,n)};setTimeout(()=>{this.isTyping=!0,o()},1500)}setupStatsCounter(){const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(this.animateNumber(e.target),t.unobserve(e.target))})},{threshold:.5});this.statsElements.forEach(e=>{t.observe(e)})}animateNumber(t){const e=t.textContent,s=e.includes("%"),i=e.includes("+"),o=parseInt(e.replace(/[^\d]/g,""));let r=0;const n=Math.ceil(o/50),a=setInterval(()=>{r+=n,r>=o&&(r=o,clearInterval(a));let e=r;i&&(e+="+"),s&&(e+="%"),t.textContent=e},2e3/(o/n))}setupTechStackHover(){this.techItems.forEach((t,e)=>{t.style.animationDelay=2+.2*e+"s",t.classList.add("animate-on-scroll"),t.addEventListener("mouseenter",()=>{t.style.transform="translateX(15px) scale(1.2)",t.style.boxShadow="0 12px 30px rgba(102, 126, 234, 0.3)",this.showTechTooltip(t,e)}),t.addEventListener("mouseleave",()=>{t.style.transform="translateX(0) scale(1)",t.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.1)",this.hideTechTooltip(t)}),t.addEventListener("touchstart",()=>{t.style.transform="translateX(15px) scale(1.2)"}),t.addEventListener("touchend",()=>{setTimeout(()=>{t.style.transform="translateX(0) scale(1)"},200)})})}showTechTooltip(t,e){const s=document.createElement("div");s.className="tech-tooltip",s.textContent=["JavaScript ES6+","React.js","Node.js","Python","Database Design"][e]||"Technology",Object.assign(s.style,{position:"absolute",bottom:"120%",left:"50%",transform:"translateX(-50%)",padding:"8px 12px",background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"6px",fontSize:"0.8rem",fontWeight:"500",color:"var(--text-primary)",whiteSpace:"nowrap",zIndex:"1000",opacity:"0",transition:"opacity 0.3s ease"}),t.appendChild(s),setTimeout(()=>s.style.opacity="1",10)}hideTechTooltip(t){const e=t.querySelector(".tech-tooltip");e&&(e.style.opacity="0",setTimeout(()=>e.remove(),300))}setupScrollIndicator(){this.scrollIndicator&&(this.scrollIndicator.addEventListener("click",()=>{const t=document.getElementById("about");t&&t.scrollIntoView({behavior:"smooth",block:"start"})}),this.scrollIndicator.addEventListener("keydown",t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),this.scrollIndicator.click())}),this.scrollIndicator.setAttribute("tabindex","0"))}setupParticleBackground(){this.hero&&(this.particleCanvas=document.createElement("canvas"),this.particleCanvas.className="hero-particles",Object.assign(this.particleCanvas.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",pointerEvents:"none",zIndex:"1",opacity:"0.6"}),this.hero.appendChild(this.particleCanvas),this.initParticles(),this.animateParticles())}initParticles(){const t=this.particleCanvas;t.getContext("2d");t.width=this.hero.offsetWidth,t.height=this.hero.offsetHeight,this.particles=[];const e=Math.min(50,Math.floor(t.width*t.height/15e3));for(let s=0;s<e;s++)this.particles.push({x:Math.random()*t.width,y:Math.random()*t.height,size:3*Math.random()+1,speedX:.5*(Math.random()-.5),speedY:.5*(Math.random()-.5),opacity:.5*Math.random()+.3})}animateParticles(){const t=this.particleCanvas;if(!t)return;const e=t.getContext("2d");e.clearRect(0,0,t.width,t.height),this.particles.forEach((s,i)=>{s.x+=s.speedX,s.y+=s.speedY,s.x<0&&(s.x=t.width),s.x>t.width&&(s.x=0),s.y<0&&(s.y=t.height),s.y>t.height&&(s.y=0),e.beginPath(),e.arc(s.x,s.y,s.size,0,2*Math.PI),e.fillStyle=`rgba(102, 126, 234, ${s.opacity})`,e.fill(),this.particles.forEach((t,o)=>{if(i!==o){const i=Math.sqrt(Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2));i<100&&(e.beginPath(),e.moveTo(s.x,s.y),e.lineTo(t.x,t.y),e.strokeStyle=`rgba(102, 126, 234, ${.1*(100-i)/100})`,e.lineWidth=1,e.stroke())}})}),requestAnimationFrame(()=>this.animateParticles())}setupImageEffects(){const t=document.querySelector(".hero__image");t&&(t.addEventListener("mousemove",e=>{const s=t.getBoundingClientRect(),i=e.clientX-s.left,o=e.clientY-s.top,r=s.width/2,n=(o-s.height/2)/20,a=(r-i)/20;t.style.transform=`perspective(1000px) rotateX(${n}deg) rotateY(${a}deg)`}),t.addEventListener("mouseleave",()=>{t.style.transform="perspective(1000px) rotateX(0deg) rotateY(0deg)"}))}setupHeroInteractions(){const t=document.querySelector(".hero__badge");t&&(t.addEventListener("click",()=>{const t=document.getElementById("contact");t&&t.scrollIntoView({behavior:"smooth"})}),t.style.cursor="pointer"),document.addEventListener("keydown",t=>{if("ArrowDown"===t.key&&0===window.scrollY){const t=document.getElementById("about");t&&t.scrollIntoView({behavior:"smooth"})}})}handleScroll(){const t=window.scrollY;if(this.scrollIndicator){const e=Math.max(0,1-t/300);this.scrollIndicator.style.opacity=e,this.scrollIndicator.style.visibility=e>.1?"visible":"hidden",this.scrollIndicator.style.pointerEvents=e>.1?"auto":"none"}}handleResize(){this.particleCanvas&&this.hero&&(this.particleCanvas.width=this.hero.offsetWidth,this.particleCanvas.height=this.hero.offsetHeight,this.initParticles())}destroy(){this.typewriterTimeout&&clearTimeout(this.typewriterTimeout),this.particleCanvas&&this.particleCanvas.parentNode&&this.particleCanvas.parentNode.removeChild(this.particleCanvas)}}document.addEventListener("DOMContentLoaded",()=>{window.heroController=new HeroController});