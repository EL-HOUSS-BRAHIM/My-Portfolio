class NavigationController{constructor(){this.navbar=document.getElementById("navbar"),this.navLinks=document.querySelectorAll(".nav__link"),this.sections=document.querySelectorAll("section[id]"),this.scrollOffset=100,this.init()}init(){this.navbar&&this.navLinks.length?(this.setupSmoothScrolling(),this.setupScrollEffects(),this.setupBackToTop(),console.debug("[NavigationController] Initialized")):console.warn("[NavigationController] Navbar or nav links not found")}setupSmoothScrolling(){this.navLinks.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();const o=t.getAttribute("href"),l=document.querySelector(o);l?(l.scrollIntoView({behavior:"smooth",block:"start"}),this.updateActiveNavLink(t),console.debug(`[NavigationController] Scrolled to ${o}`)):console.warn(`[NavigationController] Target section ${o} not found`)})}),document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();const o=document.querySelector(t.getAttribute("href"));o&&o.scrollIntoView({behavior:"smooth",block:"start"})})})}setupScrollEffects(){this.handleScroll=this.handleScroll.bind(this),window.addEventListener("scroll",this.handleScroll)}handleScroll(){const t=document.querySelector('header[role="banner"]');window.scrollY>50?(t&&t.classList.add("scrolled"),this.navbar.classList.add("nav--scrolled")):(t&&t.classList.remove("scrolled"),this.navbar.classList.remove("nav--scrolled")),this.updateActiveNavOnScroll();const e=document.querySelector(".scroll-indicator");if(e){const t=window.scrollY>100?0:Math.max(0,1-window.scrollY/200);e.style.opacity=t}}updateActiveNavOnScroll(){const t=window.scrollY+this.scrollOffset;this.sections.forEach(e=>{const o=e.offsetTop,l=e.offsetHeight,s=e.getAttribute("id");if(t>=o&&t<o+l){const t=document.querySelector(`.nav__link[href="#${s}"]`);t&&this.updateActiveNavLink(t)}})}updateActiveNavLink(t){this.navLinks.forEach(t=>t.classList.remove("active")),t.classList.add("active")}setupBackToTop(){const t=document.getElementById("backToTop");t&&(window.addEventListener("scroll",()=>{window.scrollY>300?t.classList.add("show"):t.classList.remove("show")}),t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}))}destroy(){this.handleScroll&&window.removeEventListener("scroll",this.handleScroll)}}