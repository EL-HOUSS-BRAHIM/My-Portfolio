# Production Deployment Configuration
# Zero-downtime deployment and load balancing settings

# ====================
# DEPLOYMENT SETTINGS
# ====================

# Target Environments
PRODUCTION_DIR="/var/www/brahim-elhouss.me"
STAGING_DIR="/var/www/staging.brahim-elhouss.me"
BACKUP_DIR="/var/backups/portfolio"

# Deployment Options
BACKUP_BEFORE_DEPLOY=true
RUN_TESTS_BEFORE_DEPLOY=true
ROLLBACK_ON_FAILURE=true
ALLOW_DIRTY_DEPLOY=false

# Health Check Configuration
HEALTH_CHECK_URL="https://brahim-elhouss.me/health"
HEALTH_CHECK_TIMEOUT=60
HEALTH_CHECK_RETRIES=5

# Notification Settings
DEPLOYMENT_EMAIL="admin@brahim-elhouss.me"
DEPLOYMENT_SLACK_WEBHOOK=""

# ====================
# LOAD BALANCER SETTINGS
# ====================

# Load Balancer Configuration
ENABLE_LOAD_BALANCER=true
LB_TYPE="nginx"  # nginx, apache, haproxy, cloudflare, aws
LB_CONFIG_FILE="/etc/nginx/sites-available/brahim-elhouss.me"
LB_SERVICE_NAME="nginx"
LOAD_BALANCER_SCRIPT="/home/bross/Desktop/My-Portfolio/scripts/load-balancer.sh"

# Server Configuration
SERVER_IP="127.0.0.1"
SERVER_PORT="80"
SERVER_WEIGHT="1"
SERVER_BACKUP=false

# Connection Draining
DRAIN_WAIT_TIME=30

# ====================
# CLOUDFLARE SETTINGS
# ====================

# Cloudflare API (if using Cloudflare Load Balancing)
CLOUDFLARE_EMAIL=""
CLOUDFLARE_API_KEY=""
CLOUDFLARE_ZONE_ID=""
CLOUDFLARE_POOL_ID=""

# ====================
# AWS SETTINGS
# ====================

# AWS Load Balancer (if using AWS ALB)
AWS_TARGET_GROUP_ARN=""
AWS_REGION="us-east-1"

# ====================
# PERFORMANCE OPTIMIZATION
# ====================

# PHP Configuration
PHP_MEMORY_LIMIT="256M"
PHP_MAX_EXECUTION_TIME="60"
PHP_MAX_INPUT_VARS="3000"
PHP_UPLOAD_MAX_FILESIZE="50M"
PHP_POST_MAX_SIZE="50M"

# OPcache Settings
PHP_OPCACHE_ENABLE="1"
PHP_OPCACHE_MEMORY_CONSUMPTION="128"
PHP_OPCACHE_MAX_ACCELERATED_FILES="4000"
PHP_OPCACHE_REVALIDATE_FREQ="0"
PHP_OPCACHE_VALIDATE_TIMESTAMPS="0"  # Set to 0 in production

# Session Configuration
PHP_SESSION_SAVE_HANDLER="files"
PHP_SESSION_SAVE_PATH="/var/www/sessions"
PHP_SESSION_GC_MAXLIFETIME="1440"

# ====================
# SECURITY SETTINGS
# ====================

# SSL/TLS Configuration
SSL_CERT_PATH="/etc/ssl/certs/brahim-elhouss.me.crt"
SSL_KEY_PATH="/etc/ssl/private/brahim-elhouss.me.key"
SSL_CHAIN_PATH="/etc/ssl/certs/brahim-elhouss.me-chain.crt"

# Security Headers
ENABLE_SECURITY_HEADERS=true
CSP_POLICY="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; connect-src 'self'"

# ====================
# MONITORING SETTINGS
# ====================

# Log Configuration
LOG_LEVEL="info"  # debug, info, warning, error
LOG_MAX_SIZE="50M"
LOG_RETENTION_DAYS="30"

# Monitoring Endpoints
UPTIME_CHECK_URL="https://brahim-elhouss.me/health"
PERFORMANCE_CHECK_URL="https://brahim-elhouss.me/api/status"

# Alert Thresholds
CPU_THRESHOLD="80"
MEMORY_THRESHOLD="85"
DISK_THRESHOLD="90"
RESPONSE_TIME_THRESHOLD="2000"  # milliseconds

# ====================
# BACKUP SETTINGS
# ====================

# Backup Configuration
BACKUP_RETENTION_DAYS="30"
BACKUP_ENCRYPTION=true
BACKUP_COMPRESSION=true

# Cloud Storage (optional)
BACKUP_CLOUD_PROVIDER=""  # s3, gcs, azure
BACKUP_CLOUD_BUCKET=""
BACKUP_CLOUD_REGION=""

# Database Backup
DB_BACKUP_ENABLED=true
DB_BACKUP_COMPRESSION=true
DB_BACKUP_RETENTION_DAYS="14"

# ====================
# CACHE SETTINGS
# ====================

# Redis Configuration (if using Redis)
REDIS_HOST="127.0.0.1"
REDIS_PORT="6379"
REDIS_PASSWORD=""
REDIS_DATABASE="0"

# File Cache
ENABLE_FILE_CACHE=true
CACHE_DURATION="3600"  # seconds
CACHE_PATH="/var/www/cache"

# ====================
# CDN SETTINGS
# ====================

# CDN Configuration
ENABLE_CDN=false
CDN_URL=""
CDN_ASSETS_URL=""

# Asset Optimization
ENABLE_ASSET_MINIFICATION=true
ENABLE_GZIP_COMPRESSION=true
ENABLE_BROTLI_COMPRESSION=true

# ====================
# DATABASE SETTINGS
# ====================

# Database Configuration
DB_CONNECTION_POOL_SIZE="10"
DB_QUERY_TIMEOUT="30"
DB_SLOW_QUERY_LOG=true
DB_SLOW_QUERY_TIME="2"

# Database Optimization
DB_ENABLE_QUERY_CACHE=true
DB_QUERY_CACHE_SIZE="64M"
DB_INNODB_BUFFER_POOL_SIZE="256M"

# ====================
# RATE LIMITING
# ====================

# Rate Limit Configuration
ENABLE_RATE_LIMITING=true
RATE_LIMIT_REQUESTS="100"
RATE_LIMIT_WINDOW="60"  # seconds
RATE_LIMIT_WHITELIST="127.0.0.1,::1"

# API Rate Limiting
API_RATE_LIMIT_REQUESTS="1000"
API_RATE_LIMIT_WINDOW="3600"  # seconds

# ====================
# MAINTENANCE SETTINGS
# ====================

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="Site is temporarily under maintenance. Please check back soon."
MAINTENANCE_WHITELIST_IPS="127.0.0.1"

# Scheduled Maintenance
MAINTENANCE_WINDOW_START="02:00"
MAINTENANCE_WINDOW_END="04:00"
MAINTENANCE_TIMEZONE="UTC"

# ====================
# ENVIRONMENT FLAGS
# ====================

# Feature Flags
ENABLE_API=true
ENABLE_ADMIN_PANEL=true
ENABLE_CONTACT_FORM=true
ENABLE_TESTIMONIALS=true
ENABLE_ANALYTICS=true

# Debug Settings (should be false in production)
DEBUG_MODE=false
DEBUG_SQL_QUERIES=false
DEBUG_PERFORMANCE=false
ERROR_REPORTING=false

# ====================
# COMPLIANCE SETTINGS
# ====================

# GDPR/Privacy
ENABLE_COOKIE_CONSENT=true
PRIVACY_POLICY_URL="/privacy"
TERMS_OF_SERVICE_URL="/terms"

# Analytics
GOOGLE_ANALYTICS_ID=""
GOOGLE_TAG_MANAGER_ID=""
FACEBOOK_PIXEL_ID=""

# ====================
# THIRD-PARTY INTEGRATIONS
# ====================

# Email Service
SMTP_HOST=""
SMTP_PORT="587"
SMTP_USERNAME=""
SMTP_PASSWORD=""
SMTP_ENCRYPTION="tls"

# Social Media
LINKEDIN_URL="https://linkedin.com/in/brahim-elhouss"
GITHUB_URL="https://github.com/bross"
TWITTER_URL=""

# ====================
# CUSTOM SETTINGS
# ====================

# Portfolio Specific
PORTFOLIO_THEME="default"
PORTFOLIO_LANGUAGE="en"
CONTACT_EMAIL="contact@brahim-elhouss.me"
SHOW_TESTIMONIALS=true
SHOW_PROJECTS=true
SHOW_SKILLS=true
SHOW_EXPERIENCE=true